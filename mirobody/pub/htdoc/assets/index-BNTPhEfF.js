import{c as R,j as s,u as Ae,b as ze,a as Ie,M as Qe,n as it,o as Xe,S as ot,C as De,p as rt}from"./index-BICubz86.js";import{r as u,i as ct,j as We,F as Ve,I as Ze,T as at,D as et,k as tt,l as dt,m as _t,n as mt,f as Ke,S as ft}from"./vendor-antd-DoyqoZ7x.js";import{u as ue,a as H,b as Ee,c as Pe,F as pt,S as ut,d as Le,R as ht,U as xt,A as gt,e as vt,f as Ct}from"./RenderHistoryList-BlLM7gLb.js";import{u as xe,o as st,h as wt}from"./account-CsOayCF-.js";import{M as yt,H as jt}from"./index-CoRyhR67.js";import"./vendor-firebase-D-efta1e.js";import"./logo-DuzqZi6-.js";const Nt="_wrapper_1lmwg_1",bt="_chat_1lmwg_9",kt="_content_wrapper_1lmwg_17",St="_normal_content_1lmwg_27",At="_hidden_1lmwg_41",Et="_fullpage_content_1lmwg_58",He={wrapper:Nt,chat:bt,content_wrapper:kt,normal_content:St,hidden:At,fullpage_content:Et},$t="_header_1bivg_1",Mt="_left_1bivg_11",Ft="_title_1bivg_18",Lt="_right_1bivg_24",Pt="_loading_1bivg_30",qe={header:$t,left:Mt,title:Ft,right:Lt,loading:Pt},It="_vs_wrapper_8t5ps_1",Dt="_vs_list_8t5ps_12",Ht="_dropdown_content_8t5ps_19",Bt="_dropdown_item_8t5ps_35",qt="_dropdown_item_text_8t5ps_46",Rt="_dropdown_item_actions_8t5ps_53",Vt="_checkbox_unchecked_8t5ps_64",Ot="_checkbox_disabled_8t5ps_72",Tt="_footer_8t5ps_80",Qt="_all_8t5ps_88",Ut="_confirm_8t5ps_94",zt="_disabled_btn_8t5ps_106",Zt="_tip_8t5ps_113",Wt="_vs_tip_8t5ps_119",Kt="_vs_tip_name_8t5ps_124",ne={vs_wrapper:It,vs_list:Dt,dropdown_content:Ht,dropdown_item:Bt,dropdown_item_text:qt,dropdown_item_actions:Rt,checkbox_unchecked:Vt,checkbox_disabled:Ot,footer:Tt,all:Qt,confirm:Ut,disabled_btn:zt,tip:Zt,vs_tip:Wt,vs_tip_name:Kt},Jt=e=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("g",{clipPath:"url(#clip0_2030_14065)"},u.createElement("rect",{width:24,height:24,rx:8,transform:"matrix(1 0 0 -1 0 24)",fill:"#F3F4F6"}),u.createElement("path",{d:"M19.2712 10.1144L12.1356 17.25L5 10.1144L6.04905 9.06533L12.1356 15.1521L18.2222 9.06533L19.2712 10.1144Z",fill:"#1E1E1E"})),u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_2030_14065"},u.createElement("rect",{width:24,height:24,rx:8,transform:"matrix(1 0 0 -1 0 24)",fill:"white"})))),nt=e=>u.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("rect",{x:.5,y:.5,width:15,height:15,rx:3.5,fill:"#007AFF"}),u.createElement("rect",{x:.5,y:.5,width:15,height:15,rx:3.5,stroke:"#007AFF"}),u.createElement("path",{d:"M12.2074 4.79279C12.3949 4.98031 12.5002 5.23462 12.5002 5.49979C12.5002 5.76495 12.3949 6.01926 12.2074 6.20679L7.20741 11.2068C7.01988 11.3943 6.76557 11.4996 6.50041 11.4996C6.23524 11.4996 5.98094 11.3943 5.79341 11.2068L3.79341 9.20679C3.61125 9.01818 3.51045 8.76558 3.51273 8.50339C3.51501 8.24119 3.62018 7.99038 3.80559 7.80497C3.991 7.61956 4.24181 7.51439 4.50401 7.51211C4.7662 7.50983 5.0188 7.61063 5.20741 7.79279L6.50041 9.08579L10.7934 4.79279C10.9809 4.60532 11.2352 4.5 11.5004 4.5C11.7656 4.5 12.0199 4.60532 12.2074 4.79279Z",fill:"white"}));function lt(e,t,n){const l=R.c(5),i=t===void 0?!0:t,o=null,r=u.useRef(null);let c,a;return l[0]!==e||l[1]!==i||l[2]!==o?(c=()=>{const m=d=>{let _;_=[r],_.every(p=>p.current&&!p.current.contains(d.target))&&e()};return i&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},a=[e,i,o],l[0]=e,l[1]=i,l[2]=o,l[3]=c,l[4]=a):(c=l[3],a=l[4]),u.useEffect(c,a),o?null:r}const Gt=e=>{const t=R.c(2),{styles:n}=e;let l;return t[0]!==n.checkbox_unchecked?(l=s.jsx("div",{className:n.checkbox_unchecked}),t[0]=n.checkbox_unchecked,t[1]=l):l=t[1],l},Yt=e=>{const t=R.c(2),{styles:n}=e;let l;return t[0]!==n.checkbox_checked?(l=s.jsx(nt,{className:n.checkbox_checked}),t[0]=n.checkbox_checked,t[1]=l):l=t[1],l},Je=e=>{const t=R.c(21),{prompt:n,onClick:l,onEdit:i,onDelete:o,styles:r,editable:c,deletable:a}=e,m=c===void 0?!0:c,d=a===void 0?!0:a;let _;t[0]!==i||t[1]!==n?(_=y=>{y.stopPropagation(),i&&i(n)},t[0]=i,t[1]=n,t[2]=_):_=t[2];const f=_;let p;t[3]!==o||t[4]!==n?(p=y=>{y.stopPropagation(),o&&o(n)},t[3]=o,t[4]=n,t[5]=p):p=t[5];const h=p;let x;t[6]!==n.is_selected||t[7]!==r?(x=n.is_selected?s.jsx(Yt,{styles:r}):s.jsx(Gt,{styles:r}),t[6]=n.is_selected,t[7]=r,t[8]=x):x=t[8];let v;t[9]!==n.show_name?(v=s.jsx("div",{className:"text-[16px] text-[#374151] whitespace-nowrap overflow-hidden text-ellipsis flex-1",children:n.show_name}),t[9]=n.show_name,t[10]=v):v=t[10];let g;t[11]!==d||t[12]!==m||t[13]!==h||t[14]!==f?(g=(m||d)&&s.jsxs("div",{className:"flex items-center gap-[4px] opacity-0 group-hover:opacity-100 transition-opacity",children:[m&&s.jsx(ct,{className:"cursor-pointer hover:bg-[#e3e3e3] rounded-[4px] p-[4px]",onClick:f}),d&&s.jsx(We,{className:"cursor-pointer text-[#EC221F] hover:bg-[#e3e3e3] rounded-[4px] p-[4px]",onClick:h})]}),t[11]=d,t[12]=m,t[13]=h,t[14]=f,t[15]=g):g=t[15];let C;return t[16]!==l||t[17]!==x||t[18]!==v||t[19]!==g?(C=s.jsxs("div",{className:"group flex items-center gap-[12px] cursor-pointer h-[52px] user-select-none p-[0_16px] hover:bg-[#F3F4F6]",onClick:l,children:[x,v,g]}),t[16]=l,t[17]=x,t[18]=v,t[19]=g,t[20]=C):C=t[20],C},Xt="_modalContainer_piey4_1",es="_modalHeader_piey4_12",ts="_modalTitle_piey4_17",ss="_modalBody_piey4_24",ns="_form_piey4_34",ls="_formItem_piey4_90",is="_loadingContainer_piey4_171",os="_modalFooter_piey4_182",rs="_cancelButton_piey4_189",cs="_saveButton_piey4_208",as="_spinner_piey4_230",ie={modalContainer:Xt,modalHeader:es,modalTitle:ts,modalBody:ss,form:ns,formItem:ls,loadingContainer:is,modalFooter:os,cancelButton:rs,saveButton:cs,spinner:as},ds=({isOpen:e,onClose:t,prompt:n})=>{const{t:l}=Ae(),[i]=Ve.useForm(),[o,r]=u.useState(!1),[c,a]=u.useState(!1),m=!(n!=null&&n.name)||(n==null?void 0:n.name)==="";u.useEffect(()=>{e&&n&&(!(n!=null&&n.name)||(n==null?void 0:n.name)===""?i.resetFields():(i.setFieldsValue({name:n.name}),d()))},[e,n]);const d=async()=>{var p;r(!0);try{const h=await ze.getUserPrompt({name:n.name});i.setFieldsValue({content:((p=h==null?void 0:h[0])==null?void 0:p.prompt)||""})}catch(h){Ie.error("Failed to load prompt content:",h),i.setFieldsValue({content:""})}finally{r(!1)}},_=async()=>{try{const p=await i.validateFields();a(!0);const h=m?p.name:n.name;await ze.setUserPrompt({name:h,prompt:p.content}),t(!0)}catch(p){if(p.errorFields)return;Ie.error("Failed to save prompt:",p),alert(l("save_prompt_error"))}finally{a(!1)}},f=()=>{c||(i.resetFields(),t(!1))};return e?s.jsx(Qe,{isOpen:e,onClose:f,maskClosable:!1,children:s.jsxs("div",{className:ie.modalContainer,children:[s.jsx("div",{className:ie.modalHeader,children:s.jsx("h2",{className:ie.modalTitle,children:l(m?"add_prompt":"edit_prompt")})}),s.jsx("div",{className:ie.modalBody,children:s.jsxs(Ve,{form:i,layout:"vertical",className:ie.form,children:[s.jsx(Ve.Item,{name:"name",label:l("prompt_name"),rules:[{required:m,message:l("name_required")}],className:ie.formItem,children:s.jsx(Ze,{placeholder:l("prompt_name_placeholder"),disabled:!m||c,size:"large",className:ie.formInput})}),s.jsx(Ve.Item,{name:"content",label:l("prompt_content"),rules:[{required:!0,message:l("content_required")}],className:ie.formItem,children:o?s.jsxs("div",{className:ie.loadingContainer,children:[s.jsx("div",{className:ie.spinner}),s.jsx("div",{children:l("loading_prompt")})]}):s.jsx(Ze.TextArea,{placeholder:l("prompt_content_placeholder"),disabled:c,rows:12,className:ie.formTextarea})})]})}),s.jsxs("div",{className:ie.modalFooter,children:[s.jsx("button",{className:ie.cancelButton,onClick:f,disabled:c,children:l("cancel")}),s.jsx("button",{className:ie.saveButton,onClick:_,disabled:o||c,children:c?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:ie.spinner}),s.jsx("span",{children:l("saving")})]}):l("save_prompt")})]})]})}):null},_s=()=>{const e=R.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:ne.checkbox_disabled}),e[0]=t):t=e[0],t},ms=()=>{const e=R.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:ne.checkbox_unchecked}),e[0]=t):t=e[0],t},fs=()=>{const e=R.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(nt,{className:ne.checkbox_checked}),e[0]=t):t=e[0],t},ps=({t:e,models_agent_list:t})=>{var l,i;const n=t.filter(o=>o.is_selected).length;if(n===0)return s.jsx("div",{className:ne.tip,children:e("select_at_least_one_model")});if(n===1){const o=t.find(r=>r.is_selected);return s.jsx("div",{className:ne.vs_tip,children:s.jsx("span",{className:ne.vs_tip_name,children:o==null?void 0:o.show_name})})}if(n===2){const o=t.filter(r=>r.is_selected);return s.jsxs("div",{className:ne.vs_tip,children:[s.jsx("span",{className:ne.vs_tip_name,children:(l=o[0])==null?void 0:l.show_name}),s.jsx("span",{className:"mx-[4px]",children:"vs"}),s.jsx("span",{className:ne.vs_tip_name,children:(i=o[1])==null?void 0:i.show_name})]})}return null},us=()=>{const e=R.c(125),{t}=Ae(),n=ue(hs),l=ue(xs),i=ue(gs),o=ue(vs),r=ue(Cs),c=ue(ws),a=ue(ys),m=ue(js),d=ue(Ns),[_,f]=u.useState(!1),[p,h]=u.useState(null);let x;e[0]!==l?(x=()=>{l(!1)},e[0]=l,e[1]=x):x=e[1];const v=lt(x,n&&!_);let g;e[2]!==o?(g=(F,q)=>{F.stopPropagation(),o(q.id)},e[2]=o,e[3]=g):g=e[3];const C=g;let y;e[4]!==c?(y=(F,q)=>{F.stopPropagation(),c(q.id)},e[4]=c,e[5]=y):y=e[5];const j=y;let b;e[6]===Symbol.for("react.memo_cache_sentinel")?(b=F=>{h(F),f(!0)},e[6]=b):b=e[6];const S=b;let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{h({type:"user",name:""}),f(!0)},e[7]=N):N=e[7];const B=N;let $;e[8]!==m?($=F=>{f(!1),h(null),F&&m()},e[8]=m,e[9]=$):$=e[9];const L=$;let A;e[10]!==a||e[11]!==t?(A=F=>{Qe.confirm({title:t("delete_prompt_confirm_title"),content:t("delete_prompt_confirm_content"),okText:t("yes"),cancelText:t("no"),loadingText:t("deleting"),onOk:async()=>{try{await a(F.name)}catch(q){const pe=q;throw alert(t("delete_prompt_error")),pe}}})},e[10]=a,e[11]=t,e[12]=A):A=e[12];const k=A;let M;e[13]!==n||e[14]!==l?(M=()=>l(!n),e[13]=n,e[14]=l,e[15]=M):M=e[15];let P;e[16]!==t||e[17]!==i.length?(P=i.length===0&&s.jsx("div",{className:"text-[#757575] text-[13px] font-[500]",children:t("please_select")}),e[16]=t,e[17]=i.length,e[18]=P):P=e[18];let Q;if(e[19]!==i){let F;e[21]!==i.length?(F=(q,pe)=>s.jsxs(u.Fragment,{children:[s.jsx("div",{className:"flex items-center text-[#757575] text-[13px] font-[500]",children:s.jsx("div",{children:q.show_name})}),pe<i.length-1&&s.jsx("span",{className:"text-[#1E1E1E] text-[13px] font-[600]",children:"vs"})]},q.id),e[21]=i.length,e[22]=F):F=e[22],Q=i.map(F),e[19]=i,e[20]=Q}else Q=e[20];let U;e[23]!==P||e[24]!==Q?(U=s.jsxs("div",{className:"flex items-center gap-[4px]",children:[P,Q]}),e[23]=P,e[24]=Q,e[25]=U):U=e[25];let D;e[26]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(Jt,{className:"ml-[8px]"}),e[26]=D):D=e[26];let V;e[27]!==U||e[28]!==M?(V=s.jsxs("div",{className:ne.vs_wrapper,onClick:M,children:[U,D]}),e[27]=U,e[28]=M,e[29]=V):V=e[29];const Y=n?"flex":"none";let E;e[30]!==Y?(E={display:Y},e[30]=Y,e[31]=E):E=e[31];let G;e[32]!==t?(G=t("compare_ai"),e[32]=t,e[33]=G):G=e[33];let se;e[34]!==G?(se=s.jsx("div",{className:"text-[16px] font-[600] text-[#1E1E1E]",children:G}),e[34]=G,e[35]=se):se=e[35];let z;e[36]!==t?(z=t("compare_ai_desc"),e[36]=t,e[37]=z):z=e[37];let Z;e[38]!==z?(Z=s.jsx("div",{className:"text-[14px] font-[400] text-[#757575]",children:z}),e[38]=z,e[39]=Z):Z=e[39];let T;e[40]!==se||e[41]!==Z?(T=s.jsxs("div",{className:"flex flex-col gap-[4px] px-[16px] py-[12px] border-b border-[#F3F4F6]",children:[se,Z]}),e[40]=se,e[41]=Z,e[42]=T):T=e[42];let W;e[43]!==t?(W=t("agents"),e[43]=t,e[44]=W):W=e[44];let K;e[45]!==t?(K=t("models"),e[45]=t,e[46]=K):K=e[46];let X;e[47]!==W||e[48]!==K?(X=s.jsxs("div",{className:"h-[28px] flex items-center px-[16px] text-[14px] text-[#1E1E1E] font-bold",children:[W,"/",K]}),e[47]=W,e[48]=K,e[49]=X):X=e[49];let J;if(e[50]!==d||e[51]!==C){let F;e[53]!==C?(F=q=>s.jsxs("div",{className:"".concat(ne.dropdown_item," ").concat(q.is_disabled?ne.disabled:""),onClick:pe=>{pe.stopPropagation(),q.is_disabled||C(pe,q)},children:[q.is_selected?s.jsx(fs,{}):q.is_disabled?s.jsx(_s,{}):s.jsx(ms,{}),s.jsx("div",{className:ne.dropdown_item_text,children:q.show_name})]},q.id),e[53]=C,e[54]=F):F=e[54],J=d.map(F),e[50]=d,e[51]=C,e[52]=J}else J=e[52];let ee;e[55]!==J?(ee=s.jsx("div",{className:"flex flex-col flex-1 overflow-y-auto",children:J}),e[55]=J,e[56]=ee):ee=e[56];let w;e[57]!==X||e[58]!==ee?(w=s.jsxs("div",{className:"flex-1 flex flex-col mt-[4px]",children:[X,ee]}),e[57]=X,e[58]=ee,e[59]=w):w=e[59];let O;e[60]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx("div",{className:"w-[1px] bg-[#F3F4F6] mx-[10px]"}),e[60]=O):O=e[60];let le;e[61]!==t?(le=t("prompts"),e[61]=t,e[62]=le):le=e[62];let re;e[63]!==le?(re=s.jsx("div",{className:"h-[28px] flex items-center px-[16px] text-[14px] text-[#1E1E1E] font-bold",children:le}),e[63]=le,e[64]=re):re=e[64];let me;e[65]!==t?(me=t("system_prompts"),e[65]=t,e[66]=me):me=e[66];let ge;e[67]!==me?(ge=s.jsx("div",{className:"px-[16px] py-[4px] text-[12px] text-[#757575] font-[500]",children:me}),e[67]=me,e[68]=ge):ge=e[68];let ve;if(e[69]!==k||e[70]!==j||e[71]!==r){let F;e[73]!==k||e[74]!==j?(F=q=>s.jsx(Je,{prompt:q,onClick:pe=>{pe.stopPropagation(),j(pe,q)},onEdit:S,onDelete:k,styles:ne,editable:!1,deletable:!1},q.id),e[73]=k,e[74]=j,e[75]=F):F=e[75],ve=r.filter(bs).map(F),e[69]=k,e[70]=j,e[71]=r,e[72]=ve}else ve=e[72];let $e;e[76]!==t?($e=t("user_prompts"),e[76]=t,e[77]=$e):$e=e[77];let Ce;e[78]!==$e?(Ce=s.jsx("span",{children:$e}),e[78]=$e,e[79]=Ce):Ce=e[79];let Me;e[80]===Symbol.for("react.memo_cache_sentinel")?(Me=F=>{F.stopPropagation(),B()},e[80]=Me):Me=e[80];let ce;e[81]!==t?(ce=t("add_prompt"),e[81]=t,e[82]=ce):ce=e[82];let ae;e[83]!==ce?(ae=s.jsxs("button",{className:"text-[12px] text-[#1E1E1E] hover:text-[#4B5563] font-[500] cursor-pointer",onClick:Me,children:["+ ",ce]}),e[83]=ce,e[84]=ae):ae=e[84];let Ne;e[85]!==Ce||e[86]!==ae?(Ne=s.jsxs("div",{className:"px-[16px] py-[4px] text-[12px] text-[#757575] font-[500] flex items-center justify-between",children:[Ce,ae]}),e[85]=Ce,e[86]=ae,e[87]=Ne):Ne=e[87];let de;if(e[88]!==k||e[89]!==j||e[90]!==r){let F;e[92]!==k||e[93]!==j?(F=q=>s.jsx(Je,{prompt:q,onClick:pe=>{pe.stopPropagation(),j(pe,q)},onEdit:S,onDelete:k,styles:ne,editable:!0,deletable:!0},q.id),e[92]=k,e[93]=j,e[94]=F):F=e[94],de=r.filter(ks).map(F),e[88]=k,e[89]=j,e[90]=r,e[91]=de}else de=e[91];let _e;e[95]!==ge||e[96]!==ve||e[97]!==Ne||e[98]!==de?(_e=s.jsxs("div",{className:"flex flex-col",children:[ge,ve,Ne,de]}),e[95]=ge,e[96]=ve,e[97]=Ne,e[98]=de,e[99]=_e):_e=e[99];let we;e[100]!==re||e[101]!==_e?(we=s.jsxs("div",{className:"flex-1 flex flex-col mt-[4px]",children:[re,_e]}),e[100]=re,e[101]=_e,e[102]=we):we=e[102];let be;e[103]!==w||e[104]!==we?(be=s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[w,O,we]}),e[103]=w,e[104]=we,e[105]=be):be=e[105];let ye;e[106]!==d||e[107]!==t?(ye=ps({t,models_agent_list:d}),e[106]=d,e[107]=t,e[108]=ye):ye=e[108];let I;e[109]!==ye?(I=s.jsx("div",{className:ne.footer,children:ye}),e[109]=ye,e[110]=I):I=e[110];let te;e[111]!==E||e[112]!==T||e[113]!==be||e[114]!==I?(te=s.jsxs("div",{className:ne.dropdown_content,style:E,children:[T,be,I]}),e[111]=E,e[112]=T,e[113]=be,e[114]=I,e[115]=te):te=e[115];let fe;e[116]!==p||e[117]!==L||e[118]!==_?(fe=s.jsx(ds,{isOpen:_,onClose:L,prompt:p}),e[116]=p,e[117]=L,e[118]=_,e[119]=fe):fe=e[119];let Be;return e[120]!==v||e[121]!==V||e[122]!==te||e[123]!==fe?(Be=s.jsxs("div",{id:"chat_vs_model",className:"relative",ref:v,children:[V,te,fe]}),e[120]=v,e[121]=V,e[122]=te,e[123]=fe,e[124]=Be):Be=e[124],Be};function hs(e){return e.is_open}function xs(e){return e.setIsOpen}function gs(e){return e.vs_list}function vs(e){return e.toggleModel}function Cs(e){return e.prompt_list}function ws(e){return e.togglePrompt}function ys(e){return e.deletePrompt}function js(e){return e.fetchPromptList}function Ns(e){return e.models_agent_list}function bs(e){return e.type==="system"}function ks(e){return e.type==="user"}const Ss="_wrapper_2k0bu_1",As="_query_for_2k0bu_7",Es="_query_title_2k0bu_17",$s="_query_dropdown_2k0bu_27",Ms="_query_for_cur_2k0bu_34",Fs="_dropdown_2k0bu_41",Ls="_dropdown_item_2k0bu_55",Ps="_item_tag_2k0bu_68",Is="_item_name_2k0bu_81",Ds="_item_detail_2k0bu_86",ke={wrapper:Ss,query_for:As,query_title:Es,query_dropdown:$s,query_for_cur:Ms,dropdown:Fs,dropdown_item:Ls,item_tag:Ps,item_name:Is,item_detail:Ds},Hs=e=>u.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("g",{clipPath:"url(#clip0_2030_14073)"},u.createElement("path",{d:"M19.7712 10.1144L12.6356 17.25L5.5 10.1144L6.54905 9.06533L12.6356 15.1521L18.7222 9.06533L19.7712 10.1144Z",fill:"#1E1E1E"})),u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_2030_14073"},u.createElement("rect",{width:24,height:24,rx:8,transform:"matrix(1 0 0 -1 0.5 24)",fill:"white"})))),Bs=e=>u.createElement("svg",{width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M19.1346 20.8654H13.3654C13.1202 20.8654 12.9147 20.7824 12.7489 20.6164C12.583 20.4505 12.5 20.2449 12.5 19.9997C12.5 19.7543 12.583 19.5488 12.7489 19.3833C12.9147 19.2175 13.1202 19.1346 13.3654 19.1346H19.1346V13.3654C19.1346 13.1202 19.2176 12.9147 19.3836 12.7489C19.5495 12.583 19.7551 12.5 20.0003 12.5C20.2457 12.5 20.4512 12.583 20.6167 12.7489C20.7825 12.9147 20.8654 13.1202 20.8654 13.3654V19.1346H26.6346C26.8798 19.1346 27.0853 19.2176 27.2511 19.3836C27.417 19.5495 27.5 19.7551 27.5 20.0003C27.5 20.2457 27.417 20.4512 27.2511 20.6167C27.0853 20.7825 26.8798 20.8654 26.6346 20.8654H20.8654V26.6346C20.8654 26.8798 20.7824 27.0853 20.6164 27.2511C20.4505 27.417 20.2449 27.5 19.9997 27.5C19.7543 27.5 19.5488 27.417 19.3833 27.2511C19.2175 27.0853 19.1346 26.8798 19.1346 26.6346V20.8654Z",fill:"#007AFF"}));function qs(){const e=R.c(42),{t}=Ae(),[n,l]=u.useState(!1);u.useState(!1);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{l(!1)},e[0]=i):i=e[0];const o=lt(i,n),r=xe(Zs),c=xe(zs),a=xe(Us);xe(Qs);const m=xe(Ts),d=xe(Os),_=xe(Vs),f=H(Rs);let p;e[1]!==n||e[2]!==r?(p=()=>{n||r(),l(!n)},e[1]=n,e[2]=r,e[3]=p):p=e[3];const h=p;let x;e[4]!==m||e[5]!==_||e[6]!==f?(x=M=>{l(!1),M.id!==m&&(_({user_id:M.id||"",user_name:M.name||""}),f(null))},e[4]=m,e[5]=_,e[6]=f,e[7]=x):x=e[7];const v=x;let g;e[8]!==t?(g=t("query_for"),e[8]=t,e[9]=g):g=e[9];let C;e[10]!==g?(C=s.jsx("div",{className:ke.query_title,children:g}),e[10]=g,e[11]=C):C=e[11];let y;e[12]!==m||e[13]!==d||e[14]!==t||e[15]!==a?(y=a===m||!m?t("me"):d,e[12]=m,e[13]=d,e[14]=t,e[15]=a,e[16]=y):y=e[16];let j;e[17]!==y?(j=s.jsx("div",{className:ke.query_for_cur,children:y}),e[17]=y,e[18]=j):j=e[18];let b;e[19]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(Hs,{}),e[19]=b):b=e[19];let S;e[20]!==j?(S=s.jsxs("div",{className:ke.query_dropdown,children:[j,b]}),e[20]=j,e[21]=S):S=e[21];let N;e[22]!==h||e[23]!==C||e[24]!==S?(N=s.jsxs("div",{className:ke.query_for,onClick:h,children:[C,S]}),e[22]=h,e[23]=C,e[24]=S,e[25]=N):N=e[25];const B=n?"flex":"none";let $;e[26]!==B?($={display:B},e[26]=B,e[27]=$):$=e[27];let L;if(e[28]!==c||e[29]!==v||e[30]!==t){let M;e[32]!==v||e[33]!==t?(M=P=>s.jsxs("div",{className:ke.dropdown_item,onClick:()=>v(P),children:[s.jsx("div",{className:ke.item_tag,children:P.is_current_user?t("me"):P.nickname||P.name||""}),s.jsx("div",{className:ke.item_name,children:P.email||""}),s.jsxs("div",{className:ke.item_detail,children:[s.jsx("div",{children:P.gender||""}),P.gender&&s.jsx("div",{children:"•"}),s.jsx("div",{children:P.age?"".concat(t("age")," ").concat(P.age):""}),P.age&&s.jsx("div",{children:"•"}),s.jsx("div",{children:P.blood_type||""})]})]},P.id),e[32]=v,e[33]=t,e[34]=M):M=e[34],L=c.map(M),e[28]=c,e[29]=v,e[30]=t,e[31]=L}else L=e[31];let A;e[35]!==$||e[36]!==L?(A=s.jsx("div",{className:ke.dropdown,style:$,children:L}),e[35]=$,e[36]=L,e[37]=A):A=e[37];let k;return e[38]!==o||e[39]!==A||e[40]!==N?(k=s.jsx(s.Fragment,{children:s.jsxs("div",{className:ke.wrapper,ref:o,children:[N,A]})}),e[38]=o,e[39]=A,e[40]=N,e[41]=k):k=e[41],k}function Rs(e){return e.setCurrentSessionId}function Vs(e){return e.setCurrentQueryUser}function Os(e){return e.current_query_user_name}function Ts(e){return e.current_query_user_id}function Qs(e){return e.user_name}function Us(e){return e.user_id}function zs(e){return e.beneficiary_users}function Zs(e){return e.fetchBeneficiaryUsers}function Ws(){const e=R.c(16),{t}=Ae(),n=H(Js),l=H(Ks);let i;e[0]!==l?(i=p=>{if(!l)return"";const h=p.chartData[l];return(h==null?void 0:h.summary)||""},e[0]=l,e[1]=i):i=e[1];const o=Ee(i);let r;e[2]!==o||e[3]!==t?(r=o||t("new_conversation"),e[2]=o,e[3]=t,e[4]=r):r=e[4];let c;e[5]!==r?(c=s.jsx("div",{className:qe.title,children:r}),e[5]=r,e[6]=c):c=e[6];let a;e[7]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(us,{}),e[7]=a):a=e[7];let m;e[8]!==c?(m=s.jsxs("div",{className:qe.left,children:[c,a]}),e[8]=c,e[9]=m):m=e[9];let d;e[10]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx("div",{className:qe.right,children:s.jsx(qs,{})}),e[10]=d):d=e[10];let _;e[11]!==n?(_=n&&s.jsx("div",{className:qe.loading}),e[11]=n,e[12]=_):_=e[12];let f;return e[13]!==m||e[14]!==_?(f=s.jsxs("div",{className:qe.header,children:[m,d,_]}),e[13]=m,e[14]=_,e[15]=f):f=e[15],f}function Ks(e){return e.current_session_id}function Js(e){return e.loading_chart_session}const Gs="_input_wrapper_fh0ko_1",Ys="_input_container_fh0ko_10",Xs="_input_fh0ko_1",e1="_btns_fh0ko_40",t1="_upload_wrapper_fh0ko_46",s1="_upload_icon_fh0ko_52",n1="_right_fh0ko_69",l1="_dragging_container_fh0ko_81",i1="_dragging_title_fh0ko_94",o1="_dragging_des_fh0ko_99",Se={input_wrapper:Gs,input_container:Ys,input:Xs,btns:e1,upload_wrapper:t1,upload_icon:s1,right:n1,dragging_container:l1,dragging_title:i1,dragging_des:o1},r1=e=>u.createElement("svg",{width:37,height:36,viewBox:"0 0 37 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("g",{clipPath:"url(#clip0_2015_5699)"},u.createElement("g",{clipPath:"url(#clip1_2015_5699)"},u.createElement("path",{d:"M19.2148 18.7146L19.215 25.5953C19.2149 25.783 19.1448 25.9491 19.0049 26.0935C18.865 26.2378 18.6968 26.3099 18.5002 26.31C18.3037 26.3099 18.1354 26.2399 17.9955 26.1C17.8556 25.9601 17.7856 25.7918 17.7854 25.5953L17.7856 18.7146L10.9049 18.7148C10.7172 18.7147 10.5511 18.6446 10.4067 18.5047C10.2624 18.3648 10.1903 18.1966 10.1902 18C10.1903 17.8034 10.2603 17.6352 10.4002 17.4953C10.5401 17.3554 10.7084 17.2853 10.9049 17.2852L17.7856 17.2854L17.7854 10.4047C17.7856 10.217 17.8556 10.0509 17.9955 9.90645C18.1354 9.76223 18.3037 9.69007 18.5002 9.68995C18.6968 9.69007 18.865 9.76008 19.0049 9.90001C19.1448 10.0399 19.2149 10.2082 19.215 10.4047L19.2148 17.2854L26.0955 17.2852C26.2832 17.2853 26.4493 17.3554 26.5938 17.4953C26.738 17.6352 26.8101 17.8034 26.8103 18C26.8101 18.1966 26.7401 18.3648 26.6002 18.5047C26.4603 18.6446 26.292 18.7147 26.0955 18.7148L19.2148 18.7146Z",fill:"#1E1E1E"}))),u.createElement("rect",{x:36,y:.5,width:35,height:35,rx:17.5,transform:"rotate(90 36 0.5)",stroke:"#D9D9D9"}),u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_2015_5699"},u.createElement("rect",{x:36.5,width:36,height:36,rx:18,transform:"rotate(90 36.5 0)",fill:"white"})),u.createElement("clipPath",{id:"clip1_2015_5699"},u.createElement("rect",{width:21.3333,height:21.3333,fill:"white",transform:"translate(3.41504 18) rotate(-45)"}))));function c1(){const e=R.c(9),t=Pe(d1),n=Pe(a1);let l;e[0]!==n?(l=c=>{n(c)},e[0]=n,e[1]=l):l=e[1];const i=l;if(t.length===0)return null;let o;if(e[2]!==t||e[3]!==i){let c;e[5]!==i?(c=a=>s.jsx(pt,{datasource:a,is_show_delete:!0,onClickDelete:i},a.file_key),e[5]=i,e[6]=c):c=e[6],o=t.map(c),e[2]=t,e[3]=i,e[4]=o}else o=e[4];let r;return e[7]!==o?(r=s.jsx("div",{className:"flex w-full overflow-x-auto gap-[12px] user-select-none mb-[12px]",children:o}),e[7]=o,e[8]=r):r=e[8],r}function a1(e){return e.removeFile}function d1(e){return e.file_list}const _1="_btn_bg57r_1",m1="_btn_dis_bg57r_6",Ue={btn:_1,btn_dis:m1},f1=e=>u.createElement("svg",{width:37,height:36,viewBox:"0 0 37 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M18.5 0C22.2236 1.00607e-05 25.4883 1.40332 25.4883 1.40332C28.751 2.80546 31.2208 5.2735 31.2236 5.27637C33.6835 7.73618 35.0845 10.9834 35.0967 11.0117C36.4996 14.2764 36.5 18 36.5 18C36.5 21.7235 35.0967 24.9795 35.0967 24.9795C33.6938 28.2353 31.2236 30.7148 31.2236 30.7148C28.7635 33.1835 25.516 34.5848 25.4883 34.5967C22.2298 35.9969 18.5141 36 18.5 36C14.7765 36 11.5117 34.5967 11.5117 34.5967C8.24711 33.1936 5.77637 30.7148 5.77637 30.7148C3.31567 28.2453 1.91449 25.0054 1.90332 24.9795C0.502312 21.728 0.500003 18.0103 0.5 18C0.5 14.2765 1.90332 11.0117 1.90332 11.0117C3.30512 7.74977 5.77232 5.28042 5.77637 5.27637C8.23611 2.81664 11.4832 1.41559 11.5117 1.40332C14.7764 0.000379264 18.5 0 18.5 0ZM18.5137 11.1172C18.3044 11.1172 18.1205 11.1888 18.1162 11.1904C17.9321 11.2628 17.7214 11.472 17.7188 11.4746L13.2188 15.8164C13.0601 15.9619 12.9805 16.1406 12.9805 16.1406C12.9024 16.3165 12.9014 16.5371 12.9014 16.5439C12.9014 16.9542 13.1797 17.2256 13.1797 17.2256C13.4562 17.4954 13.8766 17.4971 13.8809 17.4971C14.3573 17.4971 14.6357 17.166 14.6357 17.166L16.7129 14.9561L17.5068 14.1221L17.415 16.1602V23.8232C17.415 24.26 17.7393 24.5713 17.7393 24.5713C18.0635 24.8822 18.5137 24.8818 18.5137 24.8818C18.9634 24.8817 19.2812 24.5713 19.2812 24.5713C19.5988 24.2603 19.5986 23.8232 19.5986 23.8232V16.1602L19.5195 14.1221L20.3135 14.9561L22.3916 17.166C22.6563 17.4967 23.1328 17.4971 23.1328 17.4971C23.5561 17.4969 23.8408 17.2256 23.8408 17.2256C24.1252 16.9543 24.125 16.5439 24.125 16.5439C24.125 16.3232 24.0421 16.1471 24.0391 16.1406C23.9538 15.9635 23.7967 15.8189 23.7939 15.8164L19.3076 11.4746C19.0959 11.2629 18.9102 11.1904 18.9102 11.1904C18.7294 11.1195 18.5237 11.1172 18.5137 11.1172Z",fill:"#3C3C43",fillOpacity:.3})),p1=e=>u.createElement("svg",{width:36,height:36,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M18 0C21.7236 1.00607e-05 24.9883 1.40332 24.9883 1.40332C28.251 2.80546 30.7208 5.2735 30.7236 5.27637C33.1835 7.73618 34.5845 10.9834 34.5967 11.0117C35.9996 14.2764 36 18 36 18C36 21.7235 34.5967 24.9795 34.5967 24.9795C33.1938 28.2353 30.7236 30.7148 30.7236 30.7148C28.2635 33.1835 25.016 34.5848 24.9883 34.5967C21.7298 35.9969 18.0141 36 18 36C14.2765 36 11.0117 34.5967 11.0117 34.5967C7.74711 33.1936 5.27637 30.7148 5.27637 30.7148C2.81567 28.2453 1.41449 25.0054 1.40332 24.9795C0.0023118 21.728 2.69264e-06 18.0103 0 18C0 14.2765 1.40332 11.0117 1.40332 11.0117C2.80512 7.74977 5.27232 5.28042 5.27637 5.27637C7.73611 2.81664 10.9832 1.41559 11.0117 1.40332C14.2764 0.000379264 18 0 18 0ZM18.0137 11.1172C17.8044 11.1172 17.6205 11.1888 17.6162 11.1904C17.4321 11.2628 17.2214 11.472 17.2188 11.4746L12.7188 15.8164C12.5601 15.9619 12.4805 16.1406 12.4805 16.1406C12.4024 16.3165 12.4014 16.5371 12.4014 16.5439C12.4014 16.9542 12.6797 17.2256 12.6797 17.2256C12.9562 17.4954 13.3766 17.4971 13.3809 17.4971C13.8573 17.4971 14.1357 17.166 14.1357 17.166L16.2129 14.9561L17.0068 14.1221L16.915 16.1602V23.8232C16.915 24.26 17.2393 24.5713 17.2393 24.5713C17.5635 24.8822 18.0137 24.8818 18.0137 24.8818C18.4634 24.8817 18.7812 24.5713 18.7812 24.5713C19.0988 24.2603 19.0986 23.8232 19.0986 23.8232V16.1602L19.0195 14.1221L19.8135 14.9561L21.8916 17.166C22.1563 17.4967 22.6328 17.4971 22.6328 17.4971C23.0561 17.4969 23.3408 17.2256 23.3408 17.2256C23.6252 16.9543 23.625 16.5439 23.625 16.5439C23.625 16.3232 23.5421 16.1471 23.5391 16.1406C23.4538 15.9635 23.2967 15.8189 23.2939 15.8164L18.8076 11.4746C18.5959 11.2629 18.4102 11.1904 18.4102 11.1904C18.2294 11.1195 18.0237 11.1172 18.0137 11.1172Z",fill:"#007AFF"})),u1=e=>u.createElement("svg",{width:36,height:36,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("rect",{width:36,height:36,rx:18,fill:"#434343"}),u.createElement("path",{d:"M12.5 23.5V12.5H23.5V23.5H12.5Z",fill:"white"}));function h1(e){const t=R.c(5),{onClick:n,onStopClick:l}=e,i=Pe(w1),o=Pe(C1),r=H(v1),c=Ee(g1),a=ue(x1),m=r?c[r]:null;if((m==null?void 0:m.is_streaming)||!1){let f;return t[0]!==l?(f=s.jsx(u1,{className:Ue.btn,onClick:l}),t[0]=l,t[1]=f):f=t[1],f}if(!it(i,o,a)){let f;return t[2]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(f1,{className:Ue.btn_dis}),t[2]=f):f=t[2],f}let _;return t[3]!==n?(_=s.jsx(p1,{className:Ue.btn,onClick:n}),t[3]=n,t[4]=_):_=t[4],_}function x1(e){return e.vs_list}function g1(e){return e.chartData}function v1(e){return e.current_session_id}function C1(e){return e.file_list}function w1(e){return e.question}const{TextArea:y1}=Ze;function j1(){var Y;const e=R.c(35),{t}=Ae(),[n,l]=u.useState(!1),i=u.useRef(!1),o=Pe(F1),r=Pe(M1),c=Pe($1),a=H(E1),m=H(A1),d=H(S1),_=Ee(k1),f=d&&((Y=_[d])==null?void 0:Y.is_streaming)||!1;let p;e[0]!==o?(p=E=>{o(E.target.value)},e[0]=o,e[1]=p):p=e[1];const h=p;let x;e[2]!==f||e[3]!==a?(x=async()=>{if(f){Ie.warn("WARN: Cannot send message while streaming");return}a()},e[2]=f,e[3]=a,e[4]=x):x=e[4];const v=x;let g;e[5]!==d||e[6]!==m?(g=()=>{d&&m(d)},e[5]=d,e[6]=m,e[7]=g):g=e[7];const C=g;let y;e[8]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{i.current=!0},e[8]=y):y=e[8];const j=y;let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{i.current=!1},e[9]=b):b=e[9];const S=b;let N;e[10]!==f||e[11]!==v?(N=E=>{if(!i.current&&!(E.key==="Enter"&&E.shiftKey)&&E.key==="Enter"){if(E.preventDefault(),f)return;v()}},e[10]=f,e[11]=v,e[12]=N):N=e[12];const B=N;let $;e[13]!==c?($=async()=>{try{const E=await st();c(E)}catch(E){const G=E;Ie.error("ERROR: onClickUploadBtn",G)}},e[13]=c,e[14]=$):$=e[14];const L=$;let A;e[15]!==n?(A=E=>{E.preventDefault(),!n&&l(!0)},e[15]=n,e[16]=A):A=e[16];const k=A;let M;e[17]!==n?(M=E=>{E.preventDefault(),n&&(E.currentTarget.contains(E.relatedTarget)||l(!1))},e[17]=n,e[18]=M):M=e[18];const P=M;let Q;e[19]!==c?(Q=E=>{l(!1);const G=wt(E);c(G)},e[19]=c,e[20]=Q):Q=e[20];const U=Q;let D;e[21]!==n||e[22]!==L||e[23]!==P||e[24]!==U||e[25]!==B||e[26]!==v||e[27]!==C||e[28]!==h||e[29]!==r||e[30]!==t?(D=n?s.jsxs("div",{className:Se.dragging_container,onDragLeave:P,onDrop:U,children:[s.jsx("div",{className:Se.dragging_title,children:t("drag_and_drop_files_here")}),s.jsx("div",{className:Se.dragging_des,children:t("you_can_drag_and_drop_your_files_here_to_upload_or_use_the_upload_button_below")})]}):s.jsxs("div",{className:Se.input_container,children:[s.jsx(c1,{}),s.jsx(y1,{className:Se.input,placeholder:t("ask_anything_about_ur_health_data"),value:r,onChange:h,name:"chat-input",autoSize:{minRows:1,maxRows:8},onCompositionStart:j,onCompositionEnd:S,onPressEnter:B}),s.jsxs("div",{className:Se.btns,children:[s.jsx(at,{placement:"topRight",title:t("upload_tip"),children:s.jsx("div",{className:Se.upload_wrapper,children:s.jsx(r1,{className:Se.upload_icon,onClick:L})})}),s.jsx("div",{className:Se.right,children:s.jsx(h1,{onClick:v,onStopClick:C})})]})]}),e[21]=n,e[22]=L,e[23]=P,e[24]=U,e[25]=B,e[26]=v,e[27]=C,e[28]=h,e[29]=r,e[30]=t,e[31]=D):D=e[31];let V;return e[32]!==k||e[33]!==D?(V=s.jsx("div",{id:"chat-input-wrapper",className:Se.input_wrapper,onDragEnter:k,onDragOver:b1,onDrop:N1,children:D}),e[32]=k,e[33]=D,e[34]=V):V=e[34],V}function N1(e){e.preventDefault(),e.stopPropagation()}function b1(e){return e.preventDefault()}function k1(e){return e.chartData}function S1(e){return e.current_session_id}function A1(e){return e.stopStreamingBySessionId}function E1(e){return e.startMultipleChatSSE}function $1(e){return e.startUploadFilesToServer}function M1(e){return e.question}function F1(e){return e.setQuestion}const L1="_expand_switch_1pzyz_76",P1="_list_1pzyz_97",I1="_list_item_1pzyz_108",D1="_list_item_more_1pzyz_135",H1="_list_item_active_1pzyz_138",B1="_list_item_more_active_1pzyz_158",q1="_skeleton_wrapper_1pzyz_175",R1="_skeleton_line_1pzyz_182",V1="_new_conversation_1pzyz_200",O1="_new_conversation_hover_1pzyz_207",he={expand_switch:L1,list:P1,list_item:I1,list_item_more:D1,list_item_active:H1,list_item_more_active:B1,skeleton_wrapper:q1,skeleton_line:R1,new_conversation:V1,new_conversation_hover:O1},Te=Xe(e=>({is_menu_open:!1,switchChatMenu:()=>{e(t=>({is_menu_open:!t.is_menu_open}))},currentPersonName:"",setCurrentPersonName:t=>{e({currentPersonName:t})}})),T1=e=>u.createElement("svg",{width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M27.675 28.3557L28.298 27.7327L26.4423 25.877V23.1155H25.5577V26.2385L27.675 28.3557ZM13.3077 28.5C12.8091 28.5 12.3831 28.3234 12.0298 27.9703C11.6766 27.6169 11.5 27.1909 11.5 26.6923V13.3077C11.5 12.8091 11.6766 12.3831 12.0298 12.0298C12.3831 11.6766 12.8091 11.5 13.3077 11.5H26.6923C27.1909 11.5 27.6169 11.6766 27.9703 12.0298C28.3234 12.3831 28.5 12.8091 28.5 13.3077V19.6328C28.2538 19.5276 28.0073 19.4385 27.7605 19.3655C27.5137 19.2923 27.2602 19.234 27 19.1905V13.3077C27 13.2307 26.9679 13.1602 26.9038 13.0962C26.8398 13.0321 26.7692 13 26.6923 13H13.3077C13.2307 13 13.1603 13.0321 13.0963 13.0962C13.0321 13.1602 13 13.2307 13 13.3077V26.6923C13 26.7692 13.0321 26.8398 13.0963 26.9038C13.1603 26.9679 13.2307 27 13.3077 27H19.1655C19.2027 27.2768 19.2578 27.5387 19.3308 27.7855C19.4039 28.0323 19.493 28.2705 19.598 28.5H13.3077ZM13 26V27V13V19.1905V19.1155V26ZM15.25 24.6345H19.2673C19.3109 24.3743 19.3757 24.1208 19.4615 23.874C19.5475 23.6272 19.6411 23.3808 19.7423 23.1348H15.25V24.6345ZM15.25 20.75H21.5905C22.0212 20.3847 22.4808 20.0786 22.9693 19.8317C23.4578 19.5849 23.9808 19.4096 24.5385 19.3058V19.25H15.25V20.75ZM15.25 16.8652H24.75V15.3655H15.25V16.8652ZM26 30.5578C24.7513 30.5578 23.6892 30.1199 22.8135 29.2443C21.9378 28.3686 21.5 27.3064 21.5 26.0577C21.5 24.8091 21.9378 23.7469 22.8135 22.8713C23.6892 21.9956 24.7513 21.5577 26 21.5577C27.2487 21.5577 28.3108 21.9956 29.1865 22.8713C30.0622 23.7469 30.5 24.8091 30.5 26.0577C30.5 27.3064 30.0622 28.3686 29.1865 29.2443C28.3108 30.1199 27.2487 30.5578 26 30.5578Z",fill:"#1F1F1F"})),Q1="_person_item_3voxn_1",U1="_info_3voxn_19",z1="_name_3voxn_28",Z1="_detail_3voxn_34",W1="_detail_item_3voxn_40",K1="_list_3voxn_46",J1="_expanded_3voxn_54",G1="_collapsed_3voxn_61",Y1="_session_item_3voxn_67",X1="_list_item_more_3voxn_82",en="_session_name_3voxn_86",tn="_selected_3voxn_96",sn="_list_item_more_active_3voxn_118",oe={person_item:Q1,info:U1,name:z1,detail:Z1,detail_item:W1,list:K1,expanded:J1,collapsed:G1,session_item:Y1,list_item_more:X1,session_name:en,selected:tn,list_item_more_active:sn},nn=e=>u.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M15.2712 9.88563L8.13562 2.75L1 9.88563L2.04905 10.9347L8.13562 4.84791L14.2222 10.9347L15.2712 9.88563Z",fill:"#757575"}));function ln(e){var P;const t=R.c(67),{datasource:n,isExpand:l,onClick:i,selectedId:o,onClickItem:r,chartData:c,onShareSession:a,onDeleteSession:m}=e,d=i===void 0?_n:i,_=o===void 0?"":o,f=r===void 0?dn:r;let p;t[0]!==c?(p=c===void 0?{}:c,t[0]=c,t[1]=p):p=t[1];const h=p,x=a===void 0?an:a,v=m===void 0?cn:m,{t:g}=Ae(),[C,y]=u.useState(null);let j,b;t[2]===Symbol.for("react.memo_cache_sentinel")?(j={display:"flex",alignItems:"center",gap:"8px"},b=s.jsx(tt,{}),t[2]=j,t[3]=b):(j=t[2],b=t[3]);let S;t[4]!==g?(S=g("share"),t[4]=g,t[5]=S):S=t[5];let N;t[6]!==S?(N=s.jsxs("span",{style:j,children:[b,S]}),t[6]=S,t[7]=N):N=t[7];let B,$,L,A;if(t[8]!==h||t[9]!==n.age||t[10]!==n.blood||t[11]!==n.gender||t[12]!==n.person_name||t[13]!==n.sessions||t[14]!==l||t[15]!==d||t[16]!==f||t[17]!==v||t[18]!==x||t[19]!==C||t[20]!==_||t[21]!==g||t[22]!==N){let Q,U;t[27]===Symbol.for("react.memo_cache_sentinel")?(Q={display:"flex",alignItems:"center",gap:"8px"},U=s.jsx(We,{}),t[27]=Q,t[28]=U):(Q=t[27],U=t[28]);let D;t[29]!==g?(D=g("delete_history"),t[29]=g,t[30]=D):D=t[30];let V;t[31]!==D?(V=s.jsxs("span",{style:Q,children:[U,D]}),t[31]=D,t[32]=V):V=t[32];const Y=[{label:N,key:"share"},{label:V,key:"delete"}];let E;t[33]!==v||t[34]!==x?(E=(w,O)=>{w.domEvent&&w.domEvent.stopPropagation(),w.key==="share"?(x(O),y(null)):w.key==="delete"&&(v(O),y(null))},t[33]=v,t[34]=x,t[35]=E):E=t[35];const G=E,se=l?"none":"";let z;t[36]!==se?(z={borderBottom:se},t[36]=se,t[37]=z):z=t[37];let Z;t[38]!==n.person_name?(Z=s.jsx("div",{className:oe.name,children:n.person_name}),t[38]=n.person_name,t[39]=Z):Z=t[39];let T;t[40]!==n.gender?(T=n.gender&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:oe.detail_item,children:n.gender}),s.jsx("div",{children:"·"})]}),t[40]=n.gender,t[41]=T):T=t[41];let W;t[42]!==n.age?(W=n.age&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:oe.detail_item,children:n.age}),s.jsx("div",{children:"·"})]}),t[42]=n.age,t[43]=W):W=t[43];let K;t[44]!==n.blood?(K=n.blood&&s.jsx("div",{className:oe.detail_item,children:n.blood}),t[44]=n.blood,t[45]=K):K=t[45];let X;t[46]!==T||t[47]!==W||t[48]!==K?(X=s.jsxs("div",{className:oe.detail,children:[T,W,K]}),t[46]=T,t[47]=W,t[48]=K,t[49]=X):X=t[49];let J;t[50]!==Z||t[51]!==X?(J=s.jsxs("div",{className:oe.info,children:[Z,X]}),t[50]=Z,t[51]=X,t[52]=J):J=t[52];let ee;t[53]!==l?(ee=l?s.jsx(nn,{}):s.jsx(ut,{}),t[53]=l,t[54]=ee):ee=t[54],t[55]!==d||t[56]!==z||t[57]!==J||t[58]!==ee?(A=s.jsxs("div",{className:oe.person_item,onClick:d,style:z,children:[J,ee]},"person_item_key"),t[55]=d,t[56]=z,t[57]=J,t[58]=ee,t[59]=A):A=t[59],B="person_item_list_key",$="".concat(oe.list," ").concat(l?oe.expanded:oe.collapsed),L=(P=n==null?void 0:n.sessions)==null?void 0:P.map(w=>{const O=h[w.session_id],le=(O==null?void 0:O.is_streaming)||!1,re=!w.summary&&le;return s.jsx("div",{className:"".concat(oe.session_item," ").concat(_===w.session_id?oe.selected:""),onClick:()=>f(w),children:re?s.jsx("div",{className:he.skeleton_wrapper,children:s.jsx("div",{className:he.skeleton_line})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:oe.session_name,children:w.summary}),s.jsx("div",{onClick:rn,children:s.jsx(et,{menu:{items:Y,onClick:me=>G(me,w.session_id)},trigger:["click"],onOpenChange:me=>{y(me?w.session_id:null)},children:s.jsx("button",{className:"".concat(oe.list_item_more," ").concat(C===w.session_id?oe.list_item_more_active:""),onClick:on,children:"⋮"})})})]})},w.session_id)}),t[8]=h,t[9]=n.age,t[10]=n.blood,t[11]=n.gender,t[12]=n.person_name,t[13]=n.sessions,t[14]=l,t[15]=d,t[16]=f,t[17]=v,t[18]=x,t[19]=C,t[20]=_,t[21]=g,t[22]=N,t[23]=B,t[24]=$,t[25]=L,t[26]=A}else B=t[23],$=t[24],L=t[25],A=t[26];let k;t[60]!==B||t[61]!==$||t[62]!==L?(k=s.jsx("div",{className:$,children:L},B),t[60]=B,t[61]=$,t[62]=L,t[63]=k):k=t[63];let M;return t[64]!==A||t[65]!==k?(M=[A,k],t[64]=A,t[65]=k,t[66]=M):M=t[66],M}function on(e){return e.stopPropagation()}function rn(e){return e.stopPropagation()}function cn(){}function an(){}function dn(){}function _n(){}const mn="_shareModal_iu9r1_1",fn="_title_iu9r1_10",pn="_content_iu9r1_16",un="_urlContainer_iu9r1_16",hn="_urlDisplay_iu9r1_23",xn="_urlDisplayError_iu9r1_32",gn="_urlDisplayLink_iu9r1_35",vn="_copyButton_iu9r1_43",Fe={shareModal:mn,title:fn,content:pn,urlContainer:un,urlDisplay:hn,urlDisplayError:xn,urlDisplayLink:gn,copyButton:vn},Cn=({isOpen:e,onClose:t,sessionId:n})=>{const{t:l}=Ae(),[i,o]=u.useState(!1),[r,c]=u.useState(""),[a,m]=u.useState(""),[d,_]=u.useState(!1),f=async v=>{try{await navigator.clipboard.writeText(v),_(!0),setTimeout(()=>{_(!1)},2e3)}catch(g){Ie.error("Copy failed:",g)}},p=u.useCallback(async()=>{o(!0),m(""),c("");try{const{share_session_id:v}=await ze.createShare({session_id:n}),g="".concat(window.location.origin,"/share/").concat(v);c(g),await f(g)}catch(v){Ie.error("Create share error:",v),m(l("share_error"))}finally{o(!1)}},[n,l]);u.useEffect(()=>{e&&n&&p()},[e,n,p]);const h=()=>{r&&f(r)},x=()=>{c(""),m(""),_(!1),t()};return s.jsx(Qe,{isOpen:e,onClose:x,children:s.jsxs("div",{className:Fe.shareModal,children:[s.jsx("h2",{className:Fe.title,children:l("share_title")}),s.jsx(ot,{onClick:x,className:"cursor-pointer absolute top-[20px] right-[20px]"}),s.jsx("div",{className:Fe.content,children:s.jsxs("div",{className:Fe.urlContainer,children:[s.jsx("div",{className:"".concat(Fe.urlDisplay," ").concat(a?Fe.urlDisplayError:""," ").concat(r&&!i&&!a?Fe.urlDisplayLink:""),onClick:()=>{r&&!i&&!a&&window.open(r,"_blank")},children:i?l("creating_share_link"):a?l("share_error"):r}),s.jsx("button",{className:Fe.copyButton,onClick:a?p:h,disabled:i,children:a?s.jsxs(s.Fragment,{children:[s.jsx(dt,{}),l("retry")]}):d?s.jsxs(s.Fragment,{children:[s.jsx(_t,{}),l("copied")]}):s.jsxs(s.Fragment,{children:[s.jsx(mt,{}),l("copy_link")]})})]})})]})})},wn=()=>{const e=R.c(95),{t}=Ae(),[n,l]=u.useState(null),[i,o]=u.useState(!1),[r,c]=u.useState(null),a=u.useRef(null),m=Le(yn),d=H(jn),_=Le(Nn),f=Le(bn),p=Le(kn),h=Le(Sn),x=Le(An),v=Ee(En),g=Ee($n),C=Te(Mn),y=Te(Fn),j=Le(Ln);let b;e[0]!==v?(b=w=>{v(w)},e[0]=v,e[1]=b):b=e[1];const S=b;let N;e[2]!==y||e[3]!==C?(N=w=>{C(y===w?"":w)},e[2]=y,e[3]=C,e[4]=N):N=e[4];const B=N;let $,L;e[5]!==h||e[6]!==x||e[7]!==_?($=()=>{_===De.CONVERSATION?h():x()},L=[_,h,x],e[5]=h,e[6]=x,e[7]=_,e[8]=$,e[9]=L):($=e[8],L=e[9]),u.useEffect($,L);let A,k;e[10]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{const O=Pn();a.current&&a.current.style.setProperty("--scrollbar-width","".concat(O,"px"))},k=[],e[10]=A,e[11]=k):(A=e[10],k=e[11]),u.useEffect(A,k);let M,P;e[12]!==n?(M=()=>{const w=a.current;if(!w)return;const O=In;return n!==null&&(w.addEventListener("wheel",O,{passive:!1}),w.addEventListener("touchmove",O,{passive:!1})),()=>{w.removeEventListener("wheel",O),w.removeEventListener("touchmove",O)}},P=[n],e[12]=n,e[13]=M,e[14]=P):(M=e[13],P=e[14]),u.useEffect(M,P);let Q,U;e[15]===Symbol.for("react.memo_cache_sentinel")?(Q={display:"flex",alignItems:"center",gap:"8px"},U=s.jsx(tt,{}),e[15]=Q,e[16]=U):(Q=e[15],U=e[16]);let D;e[17]!==t?(D=t("share"),e[17]=t,e[18]=D):D=e[18];let V;e[19]!==D?(V=s.jsxs("span",{style:Q,children:[U,D]}),e[19]=D,e[20]=V):V=e[20];let Y,E,G,se,z,Z,T;if(e[21]!==g||e[22]!==m||e[23]!==d||e[24]!==_||e[25]!==S||e[26]!==n||e[27]!==j||e[28]!==f||e[29]!==v||e[30]!==t||e[31]!==V){let w,O;e[39]===Symbol.for("react.memo_cache_sentinel")?(w={display:"flex",alignItems:"center",gap:"8px"},O=s.jsx(We,{}),e[39]=w,e[40]=O):(w=e[39],O=e[40]);let le;e[41]!==t?(le=t("delete_history"),e[41]=t,e[42]=le):le=e[42];let re;e[43]!==le?(re=s.jsxs("span",{style:w,children:[O,le]}),e[43]=le,e[44]=re):re=e[44];const me=[{label:V,key:"share"},{label:re,key:"delete"}];let ge;e[45]!==m||e[46]!==d||e[47]!==j||e[48]!==v||e[49]!==t?(ge=async I=>{Qe.confirm({title:t("delete_history_confirm_title"),content:t("delete_history_confirm_content"),okText:t("yes"),cancelText:t("cancel"),onOk:async()=>{try{if(await rt({session_id:I}),Ke.success(t("delete_history_success")),d===I){const te=m.filter(fe=>fe.session_id!==I);te.length>0&&await v(te[0])}j()}catch(te){const fe=te;Ie.error("ERROR: handleDeleteHistory",fe),Ke.error(t("delete_history_error"))}}})},e[45]=m,e[46]=d,e[47]=j,e[48]=v,e[49]=t,e[50]=ge):ge=e[50],Y=ge;let ve;e[51]!==Y?(ve=(I,te)=>{I.domEvent&&I.domEvent.stopPropagation(),I.key==="share"?(c(te),o(!0),l(null)):I.key==="delete"&&(Y(te),l(null))},e[51]=Y,e[52]=ve):ve=e[52];const $e=ve;let Ce;e[53]===Symbol.for("react.memo_cache_sentinel")?(Ce=I=>{c(I),o(!0)},e[53]=Ce):Ce=e[53],E=Ce;const Me="".concat(_===De.CONVERSATION?"text-[#1e1e1e]":"text-[#757575]"," font-[500] text-[16px]");let ce;e[54]!==t?(ce=t("by_coversation"),e[54]=t,e[55]=ce):ce=e[55];let ae;e[56]!==Me||e[57]!==ce?(ae={label:s.jsx("div",{className:Me,children:ce}),value:De.CONVERSATION},e[56]=Me,e[57]=ce,e[58]=ae):ae=e[58];const Ne="".concat(_===De.PERSON?"text-[#1e1e1e]":"text-[#757575]"," font-[500] text-[16px]");let de;e[59]!==t?(de=t("by_person"),e[59]=t,e[60]=de):de=e[60];let _e;e[61]!==Ne||e[62]!==de?(_e={label:s.jsx("div",{className:Ne,children:de}),value:De.PERSON},e[61]=Ne,e[62]=de,e[63]=_e):_e=e[63];let we;e[64]!==ae||e[65]!==_e?(we=[ae,_e],e[64]=ae,e[65]=_e,e[66]=we):we=e[66];const be=we;let ye;e[67]===Symbol.for("react.memo_cache_sentinel")?(ye={background:"#E6E6E6"},e[67]=ye):ye=e[67],e[68]!==be||e[69]!==f?(T=s.jsx("div",{className:he.expand_switch,children:s.jsx(ft,{options:be,onChange:f,size:"large",block:!0,style:ye})},"expand_switch_key"),e[68]=be,e[69]=f,e[70]=T):T=e[70],G=he.list,se="expand_list_key",z=a,Z=_===De.CONVERSATION&&m.map(I=>{const te=g[I.session_id],fe=(te==null?void 0:te.is_streaming)||!1,Be=!I.summary&&fe;return s.jsx("div",{className:"".concat(he.list_item," ").concat(d===I.session_id?he.list_item_active:""),onClick:()=>S(I),children:Be?s.jsx("div",{className:he.skeleton_wrapper,children:s.jsx("div",{className:he.skeleton_line})}):s.jsxs("div",{className:"flex items-center gap-[8px] w-full",children:[s.jsx("div",{className:"text-[#1E1E1E] text-[18px] overflow-hidden text-ellipsis whitespace-nowrap flex-1",children:I.summary||t("new_conversation")}),s.jsx("div",{onClick:Dn,children:s.jsx(et,{menu:{items:me,onClick:F=>$e(F,I.session_id)},trigger:["click"],onOpenChange:F=>{l(F?I.session_id:null)},children:s.jsx("button",{className:"".concat(he.list_item_more," ").concat(n===I.session_id?he.list_item_more_active:""),onClick:Hn,children:"⋮"})})})]})},I.session_id)}),e[21]=g,e[22]=m,e[23]=d,e[24]=_,e[25]=S,e[26]=n,e[27]=j,e[28]=f,e[29]=v,e[30]=t,e[31]=V,e[32]=Y,e[33]=E,e[34]=G,e[35]=se,e[36]=z,e[37]=Z,e[38]=T}else Y=e[32],E=e[33],G=e[34],se=e[35],z=e[36],Z=e[37],T=e[38];let W;e[71]!==g||e[72]!==y||e[73]!==d||e[74]!==Y||e[75]!==E||e[76]!==_||e[77]!==S||e[78]!==B||e[79]!==p?(W=_===De.PERSON&&p.map(w=>s.jsx(ln,{datasource:w,onClickItem:S,onClick:()=>B(w.person_name),isExpand:y===w.person_name,selectedId:d,chartData:g,onShareSession:E,onDeleteSession:Y},w.person_name)),e[71]=g,e[72]=y,e[73]=d,e[74]=Y,e[75]=E,e[76]=_,e[77]=S,e[78]=B,e[79]=p,e[80]=W):W=e[80];let K;e[81]!==G||e[82]!==se||e[83]!==z||e[84]!==Z||e[85]!==W?(K=s.jsxs("div",{className:G,ref:z,children:[Z,W]},se),e[81]=G,e[82]=se,e[83]=z,e[84]=Z,e[85]=W,e[86]=K):K=e[86];let X;e[87]===Symbol.for("react.memo_cache_sentinel")?(X=()=>o(!1),e[87]=X):X=e[87];let J;e[88]!==i||e[89]!==r?(J=s.jsx(Cn,{isOpen:i,onClose:X,sessionId:r}),e[88]=i,e[89]=r,e[90]=J):J=e[90];let ee;return e[91]!==T||e[92]!==K||e[93]!==J?(ee=s.jsxs(s.Fragment,{children:[T,K,J]}),e[91]=T,e[92]=K,e[93]=J,e[94]=ee):ee=e[94],ee};function yn(e){return e.conversation_list}function jn(e){return e.current_session_id}function Nn(e){return e.history_mode}function bn(e){return e.setHistoryMode}function kn(e){return e.person_list}function Sn(e){return e.fetchHistoryByConversationList}function An(e){return e.fetchHistoryByPersonList}function En(e){return e.switchSession}function $n(e){return e.chartData}function Mn(e){return e.setCurrentPersonName}function Fn(e){return e.currentPersonName}function Ln(e){return e.refreshHistory}function Pn(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.width="100px",document.body.appendChild(e);const t=document.createElement("div");t.style.width="100%",e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return document.body.removeChild(e),n}function In(e){e.preventDefault(),e.stopPropagation()}function Dn(e){return e.stopPropagation()}function Hn(e){return e.stopPropagation()}function Bn(){const e=R.c(23),t=Te(Vn),n=Te(Rn),l=H(qn),{t:i}=Ae();let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(T1,{className:""}),e[0]=o):o=e[0];let r;e[1]!==n?(r=s.jsx("div",{className:"flex items-center pb-[8px] cursor-pointer w-full pl-[24px]",onClick:n,children:o}),e[1]=n,e[2]=r):r=e[2];const c="".concat(he.new_conversation," ").concat(t?he.new_conversation_hover:""," mr-[24px]");let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(Bs,{}),e[3]=a):a=e[3];let m;e[4]!==t||e[5]!==i?(m=t&&s.jsx("div",{className:"whitespace-nowrap overflow-hidden text-ellipsis flex-1 ml-[4px] text-[#007AFF]",children:i("new_conversation")}),e[4]=t,e[5]=i,e[6]=m):m=e[6];let d;e[7]!==c||e[8]!==m?(d=s.jsxs("div",{className:c,children:[a,m]}),e[7]=c,e[8]=m,e[9]=d):d=e[9];let _;e[10]!==l||e[11]!==d?(_=s.jsx("div",{className:"flex items-center pt-[8px] cursor-pointer w-full pl-[24px]",onClick:l,children:d}),e[10]=l,e[11]=d,e[12]=_):_=e[12];const f="transition-opacity ".concat(t?"duration-300 opacity-100":"duration-0 opacity-0 pointer-events-none"," delay-300 flex-1 w-full overflow-hidden flex flex-col");let p;e[13]!==t?(p=t&&s.jsx(wn,{}),e[13]=t,e[14]=p):p=e[14];let h;e[15]!==f||e[16]!==p?(h=s.jsx("div",{className:f,children:p}),e[15]=f,e[16]=p,e[17]=h):h=e[17];let x;return e[18]!==t||e[19]!==r||e[20]!==_||e[21]!==h?(x=s.jsxs(yt,{minWidth:88,maxWidth:380,isExpanded:t,children:[r,_,h]}),e[18]=t,e[19]=r,e[20]=_,e[21]=h,e[22]=x):x=e[22],x}function qn(e){return e.startNewChat}function Rn(e){return e.switchChatMenu}function Vn(e){return e.is_menu_open}const On="_wrapper_rldgl_1",Tn="_content_list_rldgl_13",Ge={wrapper:On,content_list:Tn};function Qn(){const e=R.c(12),t=H(Kn);let n;e[0]!==t?(n=f=>{var p;return(p=f.chartData[t])==null?void 0:p.history},e[0]=t,e[1]=n):n=e[1];const l=Ee(n),i=H(Wn),o=H(Zn),r=H(zn),c=H(Un);let a;e[2]!==c||e[3]!==r?(a=f=>{c(f||null),r()},e[2]=c,e[3]=r,e[4]=a):a=e[4];const m=a;let d;e[5]!==o||e[6]!==m||e[7]!==i?(d={isShowFullpage:i,fullpageDatasource:o,onToggleFullpage:m},e[5]=o,e[6]=m,e[7]=i,e[8]=d):d=e[8];let _;return e[9]!==l||e[10]!==d?(_=s.jsx(ht,{history_list:l,assistantDialogProps:d}),e[9]=l,e[10]=d,e[11]=_):_=e[11],_}function Un(e){return e.setFullpageDatasource}function zn(e){return e.switchIsShowFullpage}function Zn(e){return e.fullpage_datasource}function Wn(e){return e.is_show_fullpage}function Kn(e){return e.current_session_id}const Jn="_conversation_container_1k0r3_1",Gn={conversation_container:Jn},Ye=[];function Yn(e){const t=R.c(19),{containerHeight:n}=e,l=H(nl);let i;t[0]!==l?(i=h=>{if(!l)return Ye;const x=h.chartData[l];return(x==null?void 0:x.conversations)||Ye},t[0]=l,t[1]=i):i=t[1];const o=Ee(i),r=H(sl),c=H(tl),a=H(el),m=H(Xn);if(!l)return null;let d;t[2]!==m||t[3]!==a?(d=h=>{m(h||null),a()},t[2]=m,t[3]=a,t[4]=d):d=t[4];const _=d;let f;if(t[5]!==n||t[6]!==o||t[7]!==c||t[8]!==_||t[9]!==r){let h;t[11]!==n||t[12]!==o.length||t[13]!==c||t[14]!==_||t[15]!==r?(h=(x,v)=>{const g=v===o.length-1;return s.jsxs("div",{className:Gn.conversation_container,style:{minHeight:g&&n>0?"".concat(n,"px"):"auto"},children:[x.question_list&&x.question_list.length>0&&s.jsx(xt,{datasource:x.question_list}),x.assistant_list&&x.assistant_list.length>0&&s.jsx(gt,{datasource:x.assistant_list,isShowFullpage:r,fullpageDatasource:c,onToggleFullpage:_})]},x.id)},t[11]=n,t[12]=o.length,t[13]=c,t[14]=_,t[15]=r,t[16]=h):h=t[16],f=o.map(h),t[5]=n,t[6]=o,t[7]=c,t[8]=_,t[9]=r,t[10]=f}else f=t[10];let p;return t[17]!==f?(p=s.jsx(s.Fragment,{children:f}),t[17]=f,t[18]=p):p=t[18],p}function Xn(e){return e.setFullpageDatasource}function el(e){return e.switchIsShowFullpage}function tl(e){return e.fullpage_datasource}function sl(e){return e.is_show_fullpage}function nl(e){return e.current_session_id}function ll(){const e=R.c(18),t=u.useRef(null),[n,l]=u.useState(0),i=H(il);let o;e[0]!==i?(o=v=>{var g,C;return((C=(g=v.chartData[i])==null?void 0:g.history)==null?void 0:C.length)||0},e[0]=i,e[1]=o):o=e[1];const r=Ee(o);let c;e[2]!==i?(c=v=>{var g,C;return((C=(g=v.chartData[i])==null?void 0:g.conversations)==null?void 0:C.length)||0},e[2]=i,e[3]=c):c=e[3];const a=Ee(c);let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{if(t.current){const v=t.current.clientHeight;l(v)}},e[4]=m):m=e[4];let d;e[5]!==a?(d=[a],e[5]=a,e[6]=d):d=e[6],u.useEffect(m,d);let _;e[7]!==a||e[8]!==r?(_=()=>{const v=r>0||a>0;t.current&&v&&setTimeout(()=>{if(!t.current)return;const g=t.current.querySelectorAll('[data-role="user"]');g.length>0&&g[g.length-1].scrollIntoView({block:"start",behavior:"smooth"})},100)},e[7]=a,e[8]=r,e[9]=_):_=e[9];let f;e[10]!==a||e[11]!==i||e[12]!==r?(f=[r,a,i],e[10]=a,e[11]=i,e[12]=r,e[13]=f):f=e[13],u.useEffect(_,f);let p,h;e[14]===Symbol.for("react.memo_cache_sentinel")?(p={minHeight:"100%"},h=s.jsx(Qn,{}),e[14]=p,e[15]=h):(p=e[14],h=e[15]);let x;return e[16]!==n?(x=s.jsx("div",{id:"content-list-wrapper",className:Ge.wrapper,ref:t,children:s.jsxs("div",{className:Ge.content_list,style:p,children:[h,s.jsx(Yn,{containerHeight:n})]})}),e[16]=n,e[17]=x):x=e[17],x}function il(e){return e.current_session_id}const ol="_file_viewer_1ne5c_1",rl="_header_1ne5c_10",cl="_info_1ne5c_16",al="_name_1ne5c_22",dl="_detail_1ne5c_29",_l="_line_1ne5c_37",ml="_btns_1ne5c_42",fl="_btn_1ne5c_42",pl="_image_1ne5c_55",je={file_viewer:ol,header:rl,info:cl,name:al,detail:dl,line:_l,btns:ml,btn:fl,image:pl},ul=e=>u.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("rect",{width:32,height:32,rx:8,fill:"#434343"}),u.createElement("path",{d:"M15.9997 19.0321C15.8926 19.0321 15.7929 19.015 15.7006 18.9808C15.6083 18.9467 15.5205 18.888 15.4372 18.8048L12.6732 16.0408C12.5411 15.9085 12.4758 15.7537 12.4775 15.5766C12.4792 15.3994 12.5445 15.2418 12.6732 15.1039C12.8112 14.9661 12.9695 14.8949 13.1483 14.8903C13.3273 14.8857 13.4857 14.9524 13.6237 15.0903L15.333 16.7997V9.99967C15.333 9.81049 15.3969 9.65212 15.5246 9.52456C15.6521 9.39686 15.8105 9.33301 15.9997 9.33301C16.1889 9.33301 16.3472 9.39686 16.4748 9.52456C16.6025 9.65212 16.6663 9.81049 16.6663 9.99967V16.7997L18.3757 15.0903C18.508 14.9582 18.6649 14.8929 18.8466 14.8946C19.0283 14.8963 19.1882 14.9661 19.3261 15.1039C19.4549 15.2418 19.5215 15.398 19.5261 15.5723C19.5307 15.7467 19.464 15.9029 19.3261 16.0408L16.5621 18.8048C16.4789 18.888 16.3911 18.9467 16.2988 18.9808C16.2065 19.015 16.1068 19.0321 15.9997 19.0321ZM10.9399 22.6663C10.4909 22.6663 10.1108 22.5108 9.79967 22.1997C9.48856 21.8886 9.33301 21.5085 9.33301 21.0595V19.3159C9.33301 19.1267 9.39686 18.9683 9.52456 18.8408C9.65212 18.7131 9.81049 18.6492 9.99967 18.6492C10.1889 18.6492 10.3472 18.7131 10.4748 18.8408C10.6025 18.9683 10.6663 19.1267 10.6663 19.3159V21.0595C10.6663 21.1279 10.6949 21.1906 10.7519 21.2475C10.8088 21.3045 10.8715 21.333 10.9399 21.333H21.0595C21.1279 21.333 21.1906 21.3045 21.2475 21.2475C21.3045 21.1906 21.333 21.1279 21.333 21.0595V19.3159C21.333 19.1267 21.3969 18.9683 21.5246 18.8408C21.6521 18.7131 21.8105 18.6492 21.9997 18.6492C22.1889 18.6492 22.3472 18.7131 22.4748 18.8408C22.6025 18.9683 22.6663 19.1267 22.6663 19.3159V21.0595C22.6663 21.5085 22.5108 21.8886 22.1997 22.1997C21.8886 22.5108 21.5085 22.6663 21.0595 22.6663H10.9399Z",fill:"white",fillOpacity:.8})),hl=e=>u.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},u.createElement("path",{d:"M0 8C0 3.58172 3.58172 0 8 0H24C28.4183 0 32 3.58172 32 8V24C32 28.4183 28.4183 32 24 32H8C3.58172 32 0 28.4183 0 24V8Z",fill:"#434343"}),u.createElement("path",{d:"M16.0005 17.0111L11.1352 21.8766C11.0024 22.0092 10.8354 22.0772 10.6343 22.0803C10.4334 22.0834 10.2634 22.0155 10.1244 21.8766C9.98547 21.7375 9.91602 21.569 9.91602 21.3711C9.91602 21.1732 9.98547 21.0048 10.1244 20.8657L14.9899 16.0005L10.1244 11.1352C9.9917 11.0024 9.92377 10.8354 9.92057 10.6343C9.91753 10.4334 9.98547 10.2634 10.1244 10.1244C10.2634 9.98547 10.4319 9.91602 10.6298 9.91602C10.8277 9.91602 10.9961 9.98547 11.1352 10.1244L16.0005 14.9899L20.8657 10.1244C20.9985 9.9917 21.1655 9.92377 21.3666 9.92057C21.5675 9.91753 21.7375 9.98547 21.8766 10.1244C22.0155 10.2634 22.0849 10.4319 22.0849 10.6298C22.0849 10.8277 22.0155 10.9961 21.8766 11.1352L17.0111 16.0005L21.8766 20.8657C22.0092 20.9985 22.0772 21.1655 22.0803 21.3666C22.0834 21.5675 22.0155 21.7375 21.8766 21.8766C21.7375 22.0155 21.569 22.0849 21.3711 22.0849C21.1732 22.0849 21.0048 22.0155 20.8657 21.8766L16.0005 17.0111Z",fill:"white",fillOpacity:.8})),Oe=Xe(e=>({is_show_preview:!1,setIsShowPreview:t=>{e({is_show_preview:t})},preview_file:null,setPreviewFile:t=>{e({preview_file:t})}}));function xl(){const e=R.c(37),t=Oe(Cl),n=Oe(vl),l=Oe(gl),{url:i,type:o,size:r,filename:c}=t;let a;e[0]!==l||e[1]!==n?(a=()=>{n(null),l(!1)},e[0]=l,e[1]=n,e[2]=a):a=e[2];const m=a;let d;e[3]!==c?(d=s.jsx("div",{className:je.name,children:c}),e[3]=c,e[4]=d):d=e[4];let _;e[5]!==o?(_=s.jsx(vt,{type:o,fontColor:"#fff"}),e[5]=o,e[6]=_):_=e[6];let f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("div",{className:je.line}),e[7]=f):f=e[7];let p;e[8]!==r?(p=s.jsx("div",{className:je.size,children:r}),e[8]=r,e[9]=p):p=e[9];let h;e[10]!==_||e[11]!==p?(h=s.jsxs("div",{className:je.detail,children:[_,f,p]}),e[10]=_,e[11]=p,e[12]=h):h=e[12];let x;e[13]!==d||e[14]!==h?(x=s.jsxs("div",{className:je.info,children:[d,h]}),e[13]=d,e[14]=h,e[15]=x):x=e[15];let v;e[16]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(ul,{}),e[16]=v):v=e[16];let g;e[17]!==i?(g=s.jsx("a",{href:i,download:!0,className:je.btn,target:"_blank",children:v}),e[17]=i,e[18]=g):g=e[18];let C;e[19]!==m?(C=s.jsx(hl,{className:je.btn,onClick:m}),e[19]=m,e[20]=C):C=e[20];let y;e[21]!==g||e[22]!==C?(y=s.jsxs("div",{className:je.btns,children:[g,C]}),e[21]=g,e[22]=C,e[23]=y):y=e[23];let j;e[24]!==y||e[25]!==x?(j=s.jsxs("div",{className:je.header,children:[x,y]}),e[24]=y,e[25]=x,e[26]=j):j=e[26];let b;e[27]!==o||e[28]!==i?(b=o==="pdf"&&s.jsx("iframe",{src:"".concat(i,"#navpanes=0&scrollbar=0"),width:"100%",height:"100%"}),e[27]=o,e[28]=i,e[29]=b):b=e[29];let S;e[30]!==o||e[31]!==i?(S=o==="image"&&s.jsx("img",{className:je.image,src:i,alt:"preview"}),e[30]=o,e[31]=i,e[32]=S):S=e[32];let N;return e[33]!==j||e[34]!==b||e[35]!==S?(N=s.jsxs("div",{className:je.file_viewer,children:[j,b,S]}),e[33]=j,e[34]=b,e[35]=S,e[36]=N):N=e[36],N}function gl(e){return e.setIsShowPreview}function vl(e){return e.setPreviewFile}function Cl(e){return e.preview_file}const wl="_title_bd382_1",yl="_upload_bd382_12",jl="_upload_title_bd382_28",Nl="_upload_desc_bd382_34",bl="_upload_icon_bd382_41",Re={title:wl,upload:yl,upload_title:jl,upload_desc:Nl,upload_icon:bl},kl="data:image/png;base64,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",Sl=()=>{const e=R.c(22),{t}=Ae(),n=Pe(Al);let l;e[0]!==n?(l=async()=>{try{const h=await st();n(h)}catch(h){const x=h;Ie.error("ERROR: onClickUploadArea",x)}},e[0]=n,e[1]=l):l=e[1];const i=l;let o;e[2]!==t?(o=t("hi_how_can_i_help_you_today"),e[2]=t,e[3]=o):o=e[3];let r;e[4]!==o?(r=s.jsx("div",{className:Re.title,children:o}),e[4]=o,e[5]=r):r=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx("img",{src:kl,alt:"",className:Re.upload_icon}),e[6]=c):c=e[6];let a;e[7]!==t?(a=t("upload_files"),e[7]=t,e[8]=a):a=e[8];let m;e[9]!==a?(m=s.jsx("div",{className:Re.upload_title,children:a}),e[9]=a,e[10]=m):m=e[10];let d;e[11]!==t?(d=t("you_can_click_this_area_to_upload_from_your_computer_or_drag_and_drop_here"),e[11]=t,e[12]=d):d=e[12];let _;e[13]!==d?(_=s.jsx("div",{className:Re.upload_desc,children:d}),e[13]=d,e[14]=_):_=e[14];let f;e[15]!==i||e[16]!==m||e[17]!==_?(f=s.jsxs("div",{className:Re.upload,onClick:i,children:[c,m,_]}),e[15]=i,e[16]=m,e[17]=_,e[18]=f):f=e[18];let p;return e[19]!==r||e[20]!==f?(p=s.jsx("div",{className:"flex-1 flex flex-col items-center w-full overflow-auto",children:s.jsxs("div",{className:"min-h-[366px] flex-1 flex flex-col items-center justify-center gap-[64px]",children:[r,f]})}),e[19]=r,e[20]=f,e[21]=p):p=e[21],p};function Al(e){return e.startUploadFilesToServer}const El=()=>{const e=R.c(8),t=Oe(Ml),n=xe(Fl),l=xe(Ll),i=xe(Pl),o=H(Il),r=H(Dl),c=H(Hl);let a;return e[0]!==n||e[1]!==o||e[2]!==c||e[3]!==r||e[4]!==t||e[5]!==l||e[6]!==i?(a={isShowPreview:t,currentQueryUserId:n,userId:l,userName:i,currentSessionId:o,isShowFullpage:r,fullpageDatasource:c},e[0]=n,e[1]=o,e[2]=c,e[3]=r,e[4]=t,e[5]=l,e[6]=i,e[7]=a):a=e[7],a},$l=()=>{const e=R.c(12),t=xe(Bl),n=xe(ql),l=H(Rl),i=H(Vl),o=Le(Ol),r=ue(Tl),c=ue(Ql);let a;e[0]!==i||e[1]!==l?(a=_=>{i(_||null),l()},e[0]=i,e[1]=l,e[2]=a):a=e[2];const m=a;let d;return e[3]!==t||e[4]!==o||e[5]!==c||e[6]!==m||e[7]!==r||e[8]!==n||e[9]!==i||e[10]!==l?(d={fetchBeneficiaryUsers:t,setCurrentQueryUser:n,switchIsShowFullpage:l,setFullpageDatasource:i,fetchHistoryByConversationList:o,initializeModel:r,getModelShowName:c,handleToggleFullpage:m},e[3]=t,e[4]=o,e[5]=c,e[6]=m,e[7]=r,e[8]=n,e[9]=i,e[10]=l,e[11]=d):d=e[11],d};function Ml(e){return e.is_show_preview}function Fl(e){return e.current_query_user_id}function Ll(e){return e.user_id}function Pl(e){return e.user_name}function Il(e){return e.current_session_id}function Dl(e){return e.is_show_fullpage}function Hl(e){return e.fullpage_datasource}function Bl(e){return e.fetchBeneficiaryUsers}function ql(e){return e.setCurrentQueryUser}function Rl(e){return e.switchIsShowFullpage}function Vl(e){return e.setFullpageDatasource}function Ol(e){return e.fetchHistoryByConversationList}function Tl(e){return e.init}function Ql(e){return e.getModelShowName}function Yl(){const e=R.c(35),{isShowPreview:t,currentQueryUserId:n,userId:l,userName:i,currentSessionId:o,isShowFullpage:r,fullpageDatasource:c}=El(),{fetchBeneficiaryUsers:a,setCurrentQueryUser:m,fetchHistoryByConversationList:d,initializeModel:_,getModelShowName:f,handleToggleFullpage:p}=$l(),h=u.useRef(!1);let x,v;e[0]!==n||e[1]!==a||e[2]!==d||e[3]!==_||e[4]!==m||e[5]!==l||e[6]!==i?(x=()=>{if(h.current)return;h.current=!0,(async()=>(await a(),!n&&l&&m({user_id:l,user_name:i}),d(),_()))()},v=[a,m,d,_,n,l,i],e[0]=n,e[1]=a,e[2]=d,e[3]=_,e[4]=m,e[5]=l,e[6]=i,e[7]=x,e[8]=v):(x=e[7],v=e[8]),u.useEffect(x,v);let g;e[9]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(jt,{}),e[9]=g):g=e[9];let C;e[10]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(Bn,{}),e[10]=C):C=e[10];const y="".concat(He.normal_content," ").concat(r?He.hidden:"");let j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(Ws,{}),e[11]=j):j=e[11];let b;e[12]!==o?(b=o!==null?s.jsx(ll,{}):s.jsx(Sl,{}),e[12]=o,e[13]=b):b=e[13];let S;e[14]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(j1,{}),e[14]=S):S=e[14];let N;e[15]!==y||e[16]!==b?(N=s.jsxs("div",{className:y,children:[j,b,S]},"normal_content"),e[15]=y,e[16]=b,e[17]=N):N=e[17];const B="".concat(He.fullpage_content," ").concat(r?"":He.hidden);let $;e[18]!==o||e[19]!==c||e[20]!==f||e[21]!==p||e[22]!==r?($=r&&o!==null&&c&&s.jsx(Ct,{datasource:c,isShowFullpage:r,fullpageDatasource:c,onToggleFullpage:p,modelShowName:f(c==null?void 0:c.provider,c==null?void 0:c.agent)}),e[18]=o,e[19]=c,e[20]=f,e[21]=p,e[22]=r,e[23]=$):$=e[23];let L;e[24]!==$||e[25]!==B?(L=s.jsx("div",{className:B,children:$},"fullpage_content"),e[24]=$,e[25]=B,e[26]=L):L=e[26];let A;e[27]!==L||e[28]!==N?(A=s.jsxs("div",{className:He.content_wrapper,children:[N,L]}),e[27]=L,e[28]=N,e[29]=A):A=e[29];let k;e[30]!==t?(k=t&&s.jsx(xl,{}),e[30]=t,e[31]=k):k=e[31];let M;return e[32]!==A||e[33]!==k?(M=s.jsxs("div",{className:He.wrapper,children:[g,s.jsxs("div",{className:He.chat,children:[C,A,k]})]}),e[32]=A,e[33]=k,e[34]=M):M=e[34],M}export{Yl as default};
